<!-- @format -->

<% layout('/layouts/boilerplate') %>

<style>
	.fa-icon {
		opacity: 0.7;
	}

	.fa-icon:hover {
		opacity: 1;
		cursor: pointer;
	}

	
</style>

<body>
	<div
		id="filters "
		style="margin-top: 2rem; width: 90%; margin: 0px auto">
		<div
			id="filter"
			style="
				margin-top: 2rem;
				margin-bottom: 3rem;
				display: flex;
				flex-direction: row;
				flex-wrap: wrap;
				height: auto;
				gap: 1.2rem;
				justify-content: space-between;
				align-items: center;
			">
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-solid fa-fire"></i></div>
				<p><b>Trending</b></p>
			</div>

			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-solid fa-bed"></i></div>
				<p><b>Rooms</b></p>
			</div>
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-solid fa-mountain-city"></i></div>
				<p><b>Iconic-cities</b></p>
			</div>
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-solid fa-mountain"></i></div>
				<p><b>Mountains</b></p>
			</div>
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-brands fa-fort-awesome"></i></div>
				<p><b>Castles</b></p>
			</div>
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-solid fa-person-swimming"></i></div>
				<p><b>Amazing pools</b></p>
			</div>
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-solid fa-campground"></i></div>
				<p><b>Camping</b></p>
			</div>
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-solid fa-cow"></i></div>
				<p><b>Farms</b></p>
			</div>
			<div
				class="fa-icon"
				style="
					display: flex;
					justify-content: center;
					align-items: center;
					flex-direction: column;
				">
				<div><i class="fa-regular fa-snowflake"></i></div>
				<p><b>Arctic</b></p>
			</div>
			<div class="tax-toggle">
				<div class="form-check-reverse form-switch">
					<input
						class="form-check-input"
						type="checkbox"
						role="switch"
						id="flexSwitchCheckDefault" />
					<label
						class="form-check-label"
						for="flexSwitchCheckDefault"
						>Display total after taxes</label
					>
				</div>
			</div>
		</div>
	</div>

	<div class="row row-cols-lg-3 row-cols-md-2 row-cols-1 allCards mt-4">
		<% for( let data of allData ) { %>

		<div
			class="card col"
			style="width: 25rem">
			<a
				href="/listings/<%=data._id%>"
				style="text-decoration: none">
				<img
					class="card-img-top mw-70 "
					src="<%=data.image.url%>"
					
					alt="Listing-Image"
					loading="lazy" />
				<div class="card-img-overlay"></div>

				<div
					class="card-body"
					style="color: black">
					<p
						class="card-text"
						style="color: black">
						<b><%= data.title%></b> <br /><b>â‚¹ </b
						><%=data.price.toLocaleString("en-IN")%>/Day
						<span class="tax-info" style="display: none;"><i> +10% GST</i></span>
					</p>
				</div>
			</a>
		</div>
		<% } %>
	</div>
</body>

<script>
	let taxSwitch = document.getElementById("flexSwitchCheckDefault");

	taxSwitch.addEventListener("click", () => {
		let allTaxes = document.getElementsByClassName("tax-info");
		for (info of allTaxes) {
			console.log(info.style.display);
			if (info.style.display === "none") {
				info.style.display = "inline";
			} else {
				info.style.display = "none";
			}
		}
	});
</script>
