<!-- @format -->
<% layout('/layouts/boilerplate') %>
<body style="background-color: rgb(235, 235, 235)">
	<h2
		style="
			font-size: 30px;
			text-align: center;
			font-weight: 700;
			margin-top: 20px;
		">
		Edit Listing
	</h2>
	<form
		style="
			background-color: white;
			border: 1px solid rgb(199, 199, 199);
			border-radius: 15px;
			min-width: 90%;
			max-width: 800px;
			margin: 0px auto;
		"
		enctype="multipart/form-data"
		novalidate
		class="needs-validation"
		method="post"
		action="/listings/<%=listing._id%>?_method=PUT">
		<div style="margin-top: 10px; margin-left: 20px; margin-right: 20px">
			<label
				for="title"
				style="margin-left: 3px; margin-top: 20px; font-weight: 700"
				class="form-label"
				>Enter Title:
			</label>
			<input
				required
				class="form-control"
				type="text"
				name="listing[title]"
				id="title"
				value="<%= listing.title %>" />
			<div class="valid-feedback">Title Looks good!</div>
			<div class="invalid-feedback">Please Enter Valid Title!</div>
		</div>
		<div style="margin-top: 10px; margin-left: 20px; margin-right: 20px">
			<label
				for="description"
				style="margin-left: 3px; font-weight: 700"
				class="form-label"
				>Enter Description:</label
			>
			<textarea
				class="form-control"
				required
				name="listing[description]"
				id="description"
				rows="5"
				cols="20">
<%=listing.description%></textarea
			>
			<div class="valid-feedback">Description Looks good!</div>
			<div class="invalid-feedback">Please Enter Valid Description!</div>
		</div>

		<div class="mt-3" style="margin-top: 10px; margin-left: 20px; margin-right: 20px; ">
			<h3 style="font-size: 1rem; font-weight: 600;">Original Listing image</h3>
			<img src="<%=listing.image.url%>" alt="image" loading="lazy" height="150px" width="200px" style="border-radius: 10px;">
		</div>

		<div style="margin-top: 10px; margin-left: 20px; margin-right: 20px">
			<label
				for="image"
				style="margin-left: 3px; font-weight: 700"
				class="form-label"
				>Upload New Image:</label
			>
			<input
				class="form-control"
				type="file"
				name="listing[image]"
				id="image"
			 />
			<div class="valid-feedback">Image Looks good!</div>
			<div class="invalid-feedback">Please Enter Valid Image!</div>
		</div>

		<div class="row">
			<div
				style="margin-top: 10px; margin-left: 20px; margin-right: 20px"
				class="col-sm-4 col-10">
				<label
					for="price"
					style="margin-left: 3px; font-weight: 700"
					class="form-label"
					>Enter Price:</label
				>
				<input
					class="form-control"
					required
					type="number"
					name="listing[price]"
					id="price"
					value="<%=listing.price%>" />
				<div class="valid-feedback">Price Looks good!</div>
				<div class="invalid-feedback">Please Enter Valid Price!</div>
			</div>

			<div
				style="margin-top: 10px; margin-left: 20px; margin-right: 20px"
				class="col-sm-5 col-10">
				<label
					style="margin-left: 3px; font-weight: 700"
					for="country"
					class="form-label"
					>Enter Country</label
				>
				<input
					class="form-control"
					type="text"
					required
					name="listing[country]"
					id="country"
					value="<%=listing.country%>" />
				<div class="valid-feedback">Country Looks good!</div>
				<div class="invalid-feedback">Please Enter Valid Country!</div>
			</div>
		</div>
		<div style="margin-top: 10px; margin-left: 20px; margin-right: 20px">
			<label
				style="margin-left: 3px; font-weight: 700"
				for="location"
				class="form-label"
				>Enter Location:</label
			>
			<input
				class="form-control"
				type="text"
				required
				name="listing[location]"
				id="location"
				value="<%=listing.location%>" />
			<div class="valid-feedback">Location Looks good!</div>
			<div class="invalid-feedback">Please Enter Valid Location!</div>
		</div>

		<button
			class="btn btn-info"
			style="
				margin-top: 30px;
				padding: 6px 12px;
				font-weight: 600;
				margin-bottom: 30px;
				margin-left: 40px;
			">
			Edit
		</button>
	</form>
</body>
